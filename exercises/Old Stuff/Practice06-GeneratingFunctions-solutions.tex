\documentclass[10pt]{exam}

\usepackage{amsmath, amssymb, amsthm, multicol}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{tikz}

\def\d{\displaystyle}
\def\b{\mathbf}
\def\R{\mathbb{R}}
\def\Z{\mathbb{Z}}
\def\N{\mathbb{N}}
\def\pow{\mathcal{P}}
\def\st{~:~}
\def\bar{\overline}
\def\inv{^{-1}}
\def\imp{\rightarrow}
\def\and{\wedge}


%\pointname{pts}
\pointsinmargin
\marginpointname{pts}
\addpoints
\pagestyle{head}
%\printanswers

\firstpageheader{Math 228}{\bf Practice Problems 6: Generating Functions \\ Solutions}{Spring 2012}


\begin{document}
\begin{questions}
\question %Find the generating function for each of the following sequences by relating them back to a sequence with known generating function.
\begin{parts}
  \part $\dfrac{4}{1-x}$  %$4,4,4,4,4,\ldots$
  \part $\dfrac{2}{(1-x)^2}$  %$2, 4, 6, 8, 10, \ldots$
  \part $\dfrac{2x^3}{(1-x}^2$  %$0,0,0,2,4,6,8,10,\ldots$
  \part $\dfrac{1}{1-5x}$  %$1, 5, 25, 125, \ldots$
  \part $\dfrac{1}{1+3x}$  %$1, -3, 9, -27, 81, \ldots$
  \part $\dfrac{1}{1-5x^2}$  %$1, 0, 5, 0, 25, 0, 125, 0, \ldots$
  \part $\dfrac{x}{(1-x^3)^2}$  %$0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, \ldots$
\end{parts}

\question %Find the sequence generated by the following generating functions:
\begin{parts}
  \part $0, 4, 4, 4, 4, 4, \ldots$  %$\dfrac{4x}{1-x}$
  \part $1, 4, 16, 64, 256, \ldots$  %$\dfrac{1}{1-4x}$
  \part $0, 1, -1, 1, -1, 1, -1, \ldots$  %$\dfrac{x}{1+x}$
  \part $0, 3, -6, 9, -12, 15, -18, \ldots $  %$\dfrac{3x}{(1+x)^2}$
  \part $1, 3, 6, 9, 12, 15, \ldots$  %$\dfrac{1+x+x^2}{(1-x)^2}$ (Hint: multiplication)
\end{parts}


\question %Show how you can get the generating function for the triangular numbers in three different ways:
\begin{parts}
  \part The second derivative of $\dfrac{1}{1-x}$ is $\dfrac{2}{(1-x)^3}$ which expands to $2 + 6x + 12x^2 + 20x^3 + 30x^4 + \cdots$.  Dividing by 2 gives the generating function for the triangular numbers. %Take two derivatives of the generating function for $1,1,1,1,1, \ldots$
  \part Compute $A - xA$ and you get $1 + 2x + 3x^2 + 4x^3 + \cdots$ which can be written as $\dfrac{1}{(1-x)^2}$.  Solving for $A$ gives the correct generating function. %Use differencing.
  \part The triangular numbers are the sum of the first $n$ numbers $1,2,3,4, \ldots$.  To get the sequence of partial sums, we multiply by $\frac{1}{1-x}$. so this gives the correct generating function again. %Multiply two known generating functions.
\end{parts}

\question Call the generating function $A$.  Compute $A - xA = 4 + x + 2x^2 + 3x^3 + 4x^4 + \cdots$.  Thus $A - xA = 4 + \dfrac{x}{(1-x)^2}$.  Solving for $A$ gives $\d\frac{4}{1-x} + \frac{x}{(1-x)^3}$.  %Use differencing to find the generating function for $4, 5, 7, 10, 14, 19, 25, \ldots$

\question $\dfrac{1+2x}{1-3x + x^2}$  %Find a generating function for the sequence with recurrence relation $a_n = 3a_{n-1} - a_{n-2}$ with initial terms $a_0 = 1$ and $a_1 = 5$.

\question Compute $A - xA - x^2A$ and the solve for $A$.  The generating function will be $\dfrac{x}{1-x-x^2}$.  %Use the recurrence relation for the Fibonacci numbers to find the generating function for the Fibonacci sequence.

\question $\dfrac{x}{(1-x)(1-x-x^2)}$  %Use multiplication to find the generating function for the sequence of partial sums of Fibonacci numbers, $S_0, S_1, S_2, \ldots$ where $S_0 = F_0$, $S_1 = F_0 + F_1$, $S_2 = F_0 + F_1 + F_2$, $S_3 = F_0 + F_1 + F_2 + F_3$ and so on.

\question $\dfrac{2}{1-5x} + \dfrac{7}{1+3x}$.  %Find the generating function for the sequence with closed formula $a_n = 2(5^n) + 7(-3)^n$.

\question $a_n = 3\cdot 4^{n-1} + 1$  %Find a closed formula for the $n$th term of the sequence with generating function $\dfrac{3x}{1-4x} + \dfrac{1}{1-x}$.

\question Hint: you should ``multiply'' the two sequences.  Answer: 158.  %Find $a_7$ for the sequence with generating function $\dfrac{2}{(1-x)^2}\cdot\dfrac{x}{1-x-x^2}$
\end{questions}


\end{document}


