%%%  This is a set of styles to include in the preamble of the generated latex code for the book Discrete Mathematics: an Open Introduction.


\usepackage{bold-extra}
\usepackage{marvosym} %for stop signs.
\usepackage{textcomp}





% % FONT OPTIONS (pick one group to uncomment):

%newpx is my current favorite.  This should work on a TEXLive distribution, but on MiKTeX it initially gave me problems.  Running the update wizard to update MiKTeX then showed ``newpx'' as an available package (only since 8/11/15).  Perhaps just synchronizing in the package manager would do the same thing.  Even then, needed to run initexmf --mkmaps from the command line.
%You could always uncomment all of these to use the default computer modern font.
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{newpxtext}
\usepackage[vvarbb,cmintegrals,cmbraces,bigdelims]{newpxmath}
\usepackage[scr=rsfso]{mathalfa}% \mathscr is fancier than \mathcal
\linespread{1.04}         % adds more leading (space between lines)
% quantifiers look strange, so change those back to normal:
	\DeclareSymbolFont{mysymbols}{OMS}{cmsy}{b}{n} %note we make the figures bold to better match newpx.  Replace the ``b'' with an ``m'' to undo this.
	%\SetSymbolFont{mysymbols}  {bold}{OMS}{cmsy}{b}{n}
	%\DeclareSymbolFont{myoperators}   {OT1}{cmr} {m}{n}
	%\SetSymbolFont{myoperators}{bold}{OT1}{cmr} {bx}{n}
	\DeclareMathSymbol{\forall}{\mathord}{mysymbols}{"38}
	\DeclareMathSymbol{\exists}{\mathord}{mysymbols}{"39}
	%\DeclareMathSymbol{\pm}{\mathbin}{mysymbols}{"06}
	%\DeclareMathSymbol{+}{\mathbin}{myoperators}{"2B}
	%\DeclareMathSymbol{-}{\mathbin}{mysymbols}{"00}
	%\DeclareMathSymbol{=}{\mathrel}{myoperators}{"3D}



%\usepackage[T1]{fontenc}
%\usepackage{newtxtext,newtxmath}


%\usepackage[bitstream-charter]{mathdesign}
%\usepackage[T1]{fontenc}

%\usepackage[proportional,space,scaled=1.064]{erewhon}
%\usepackage[erewhon,vvarbb,bigdelims]{newtxmath}
%\usepackage[T1]{fontenc}
%\renewcommand*\oldstylenums[1]{\textosf{#1}}





% % % % % % Other packages % % % % % % % %

%\usepackage{comment}
% \usepackage[obeyDraft]{todonotes}
% \usepackage{multicol}

% \usepackage{docmute}
% \usepackage{answers}
% \usepackage{pdfpages}
% \usepackage{chessboard}

%\usepackage[titletoc]{appendix}
% \usepackage{bookmark}
% \usepackage{titlesec} % to create better chapter header layout
% \usepackage{booktabs}
% \usepackage{import}
% \usepackage{etoolbox} % to create toggles
% \usepackage{makeidx}
% \usepackage[nomain]{glossaries}
% \usepackage{glossary-mcols}
%\setglossarystyle{mcolindex}

% \usepackage{xcolor}
% \usepackage{tikz}
% \usetikzlibrary{shapes,decorations,shadows,fadings}
%
\usepackage{svg}

% \usepackage[framemethod=tikz]{mdframed}


% \usepackage[colorlinks=true, linkcolor=blue]{hyperref}
% \usepackage[nameinlink]{cleveref}

% % % % % % % % % % % % % %  END OF PACKAGES  % % % % % % % % % % % % % % % % % % %


%Number subsections:
% \setsecnumdepth{section} %It might look better to turn this off, but then I should change the headings.
% \settocdepth{subsection}


% %Margins and such:
% %\setstocksize{11in}{8.5in}
% %\settrimmedsize{11in}{8.5in}{*}
% %\settypeblocksize{8in}{6in}{*}
% %\setbinding{1in}
% \setlrmarginsandblock{1.5in}{1in}{*} %we have 1.5in margins on the ``inside'' of the page, for hole punch or binding, 1 inch on outside.
% \setulmarginsandblock{1in}{1.5in}{*}
% \setheadfoot{.75in}{1in}
% \setheaderspaces{*}{.25in}{*}
% \checkandfixthelayout
% \fixpdflayout




%
% \newenvironment{ans}[1]{\item[\hyperlink{ques.#1}{#1}]\hypertarget{ans.#1}{}}{}
%
% \newcommand{\ansparams}{{\thesection.\Currentlabel.}}
%
% \def\WriteAnsFileStart{%
% 	\Writetofile{\ansfilename}{ %
% 		\protect \vskip 2em
% 		\protect\subsection*{Solutions for Section \thesection}
% 		%\noindent{\textsc{\bfseries Solutions for Section \thesection}}
% 		\protect\markright{Solutions for \thesection}
% 		%\subsubsection*{Solutions for Section \thesection\markright{Section \thesection ~ Solutions}}
%
% 	%	\protect\heading{}{}{Section \thesection\ Solutions}
% 		\protect\begin{itemize}
% 	}
% 	\subsection*{Exercises\markright{\thesection ~ Exercises}}\addcontentsline{toc}{subsection}{Exercises}
% 	}

%\def\WriteAnsFileStartAlt{%
%	\Writetofile{\ansfilename}{\protect\clearpage \protect\noindent{\textbf{Solutions for Chapter \thesection}}
%%	\protect\heading{}{}{Chapter \thesection\ Solutions}
%	\protect\begin{itemize}}
%	\subsection{Sample Questions\markright{Sample Questions}}\addcontentsline{toc}{subsection}{Sample Questions}
%	}

% \def\WriteAnsFileStop{%
% 	\Writetofile{\ansfilename}{\protect\end{itemize}}
% 	}

% \theoremstyle{plain}
% \newtheorem*{theorem}{Theorem}
% \newtheorem{problem}{Problem}
% \newtheorem*{conjecture}{Conjecture}
% %\newtheorem{answer}{Answer}
%
% \theoremstyle{definition}
% \newtheorem{definition}{Definition}
% %\newtheorem{example}{Example}
% \newtheorem{probfact}{Probability Fact}
%
% \theoremstyle{remark}
% \newtheorem*{remark}{Remark}
% %\newtheorem*{solution}{Solution}




%create a mdframe style for examples:
\mdfdefinestyle{examplestyle}{%
	% skipabove=1em,
	% skipbelow=5em,
	leftmargin=1.5ex, %left/right margins for oneside
	rightmargin=1.5ex,
	outermargin=1.5ex, %inner/outer margins for twoside
	innermargin=1.5ex,
	innertopmargin=0pt,
	roundcorner=0pt,
	topline=false,
	%bottomline=false,
	rightline=false,
  frametitleaboveskip=2pt,
	frametitlebelowskip=2pt,
	needspace=3em,
	% frametitlebackgroundcolor=black!05
}

% \let\example\relax
% let\exampleend\relax %undefine current example theorem env.

%Create indented ``example'' environment:
\mdtheorem[style=examplestyle]{mdexample}[theorem]{Example}
\LetLtxMacro\example\mdexample
\let\endexample\endmdexample
% \surroundwithmdframed[style=examplestyle]{example}


%Create ``solution'' environment:  This can be used for solutions in examples (which will always be shown) or after homework problems, which will only be shown in the instructor edition.
% \newenvironment{solution}{%
% 	\iftoggle{hwsol}{%
% 		\iftoggle{instructoredition}{\color{purple!50!blue} \vskip 1ex \noindent {\itshape\bfseries Solution}:}{\comment}
% 	}{%
% 		\vskip 1ex \noindent{\itshape\bfseries Solution}:%
% 	}
% }{%
% \iftoggle{hwsol}{%
% 		\iftoggle{instructoredition}{}{\endcomment}
% 	}{}
% }



%Create ``investigation'' environment for in-text worksheet type problems:
\renewenvironment{investigation}{%
\mdfsetup{%
	frametitle={\colorbox{white}{\large\space\space \textit{Investigate!} \space} },
	frametitlealignment=\centering,
	frametitleaboveskip=-1.5ex,
	frametitlealignment={\hspace*{2pt}},
	innerbottommargin=2em,
	innermargin=1ex,
	outermargin=1ex,
	leftmargin=1ex,
	rightmargin=1ex,
%	topline=false,
%	bottomline=false,
	linecolor=green!50!black,
	linewidth=1pt,
	skipabove=2em,
	skipbelow=2em,
	roundcorner=15pt,
	needspace=6em,
	% splittopskip=2em,
}
\vskip 1em
\begin{mdframed}
}{%
\end{mdframed}\vspace{-4em} \begin{center}\colorbox{white}{ \space\space\quad {\LARGE \color{red} \Stopsign} \quad \textbf{Attempt the above activity before proceeding} \quad {\LARGE\color{red} \Stopsign}\quad\space\space }  \end{center}
}



\renewenvironment{assemblage}[1]{%
	\mdfsetup{%
	frametitle={\colorbox{blue!20}{\space#1\space}},
	% frametitlealignment={\hspace*{1ex}},
	frametitleaboveskip=-1.5ex,
	frametitlebelowskip=0pt,
	skipabove=2ex
	roundcorner=1pt,
	leftmargin=3pt,
	rightmargin=3pt,
	backgroundcolor=blue!5,
	linecolor=blue!30,
	linewidth=1.5pt,
}
\begin{mdframed}
}{%
\end{mdframed}
}


%\begin{center}\colorbox{white}{ \qquad {\LARGE \color{red} \Stopsign} \quad \textbf{Do not proceed until you have attempted the above} \quad {\LARGE\color{red} \Stopsign}\qquad }  \end{center}

\newcommand{\ex}{\noindent\textbf{Ex: }}


\renewcommand{\qedsymbol}{\textsc{qed}}


%%%%%%%% Set description spacing the way I want %%%%%%%%%%%%%%%
\setlist[description]{style=sameline}





%Fix widows and orphans (single lines at top/bottom of page):
\clubpenalty=10000
\widowpenalty=10000
\raggedbottom




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%  Headers and footers %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}} %Removes word "chapter" from the \leftmark.

\fancyhead{} % clear header fields
\fancyhead[LE]{{\footnotesize \textsl{\thepage}}~~ \textsc{\scriptsize \nouppercase{\leftmark}}}
\fancyhead[RO]{\textsc{\scriptsize \nouppercase{\rightmark}} ~~ {\footnotesize \textsl{\thepage}}  }
\fancyfoot{}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%    Chapter headings  %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[bf,sc,small,center,outermarks]{titlesec}


%%%%% FIX FOR BUG IN TITLESEC %%%%%%%%%%%
\usepackage{etoolbox}

\makeatletter
\patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
\patchcmd{\ttlh@hang}{\noindent}{}{}{}
\makeatother
%%%%% END FIX %%%%%%%%%%%%%%%%%%%%%%%%%%%%


% \titleformat{\section}[hang]{}{\thesection.~}{0pt}{}{}

\titleformat{\chapter}[display]
	{\Large\filcenter}
	{\rule[4pt]{.3\textwidth}{2pt} \hspace{2ex} \large\textsc{\chaptertitlename} \thechapter \hspace{3ex} \rule[4pt]{0.3\textwidth}{2pt} }
	{1pc}
	{\titlerule\vspace{1ex}\huge\textsc}
	[\vspace{.75ex}\titlerule]
\titlespacing*{\chapter}{0pt}{-2em}{2em}

%
% % % % % % % % % % % My chapter style (based on VZ14: % % % % % % % % % % % % % % % %
% \makeatletter
% \setlength\midchapskip{1pt}
% \makechapterstyle{mychapstyle}{%
% \renewcommand\chapternamenum{}
% 	\renewcommand\printchaptername{}
% 	\renewcommand\chapnamefont{\Large\scshape}
% 	\renewcommand\printchapternum{%
% 		\vskip -1.25in
% 		\centering\chapnamefont\null\rule[4pt]{2in}{2pt}\quad
% 		\@chapapp\space\thechapter\quad\rule[4pt]{2in}{2pt}
% 	}
% 	\renewcommand\printchapternonum{%
% %		\par\thickhrulefill\par\vskip\midchapskip
% 		\vskip -1.25in
% 		\hrule\vskip\midchapskip
% 	}
% 	\renewcommand\chaptitlefont{\Huge\scshape\centering}
% 	\renewcommand\afterchapternum{%
% 		\par\nobreak\vskip\midchapskip\hrule\vskip\midchapskip
% 	}
% 	\renewcommand\afterchaptertitle{%
% 		\par\vskip\midchapskip\hrule\nobreak\vskip\afterchapskip
% 	}
% }
% \makeatother
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
%
% % % % % % Styles for section headings: % % % % % % % % % % %
% \setbeforesecskip{-5.5ex plus -1ex minus -.2ex}
% \setaftersecskip{2ex plus .5ex}
% %\newcommand{\ruledsec}[1]{%
% %	\Large\centering\scshape #1 \rule{\textwidth}{1pt}
% %}
% \setsecheadstyle{\Large\bfseries\scshape\centering}
% \setsubsecheadstyle{\large\bfseries\scshape\centering}
% \setsubsubsecheadstyle{\scshape\bfseries\raggedright}
% %to flush left, replace \centering with \raggedright.
%






% \input{images/USAmap} %for creating maps of the US in tikz.


% % Stop sign (taken from marvosym.sty):  This was to still use this symbol when removing the marvosym package due to a conflict with stix font.
%\newcommand{\mvs}{\fontfamily{mvs}\fontencoding{U}%
%\fontseries{m}\fontshape{n}\selectfont}
%\newcommand{\mvchr}[1]{{\mvs\char#1}}
%\newcommand{\textmvs}[1]{{\mvs #1}}
%
%\newcommand\Stopsign{\mvchr{33}}

% % % % % % % % % % % % % % % % % % % % % % % % % % % %5



%%% End of File.
